<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="多分頁 CodeMirror 編輯器，支援離線 PWA、快照歷史、模式切換與多窗/行動分頁切換。">
    <title>Notelet</title>
    <link rel="manifest" href="manifest.webmanifest">
    <meta name="theme-color" content="#111111">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="editors">
        <div id="tabs">
            <div id="tab-list"></div>
        </div>
    </div>
    <div id="status">
        <div id="status-left">
            <div id="status-text">Ln 1, Col 1</div>
            <select id="mode-select" aria-label="Mode">
                <option value="text/plain">text</option>
                <option value="application/json">json</option>
                <option value="javascript">javascript</option>
                <option value="css">css</option>
                <option value="xml">xml</option>
                <option value="markdown">markdown</option>
            </select>
            <button id="format-pretty" class="status-action status-tool-btn" aria-label="格式化" data-tooltip="格式化">
                <span class="icon icon-format" aria-hidden="true"></span>
            </button>
            <button id="format-compact" class="status-action status-tool-btn" aria-label="壓縮" data-tooltip="壓縮">
                <span class="icon icon-compact" aria-hidden="true"></span>
            </button>
            <button id="wrap-toggle" class="status-action status-tool-btn" aria-label="自動換行" data-tooltip="自動換行">
                <span class="icon icon-wrap-off" aria-hidden="true"></span>
            </button>
            <span class="status-divider" aria-hidden="true"></span>
            <button id="load-latest" class="status-tool-btn" aria-label="載入最新" data-tooltip="載入最新">
                <span class="icon icon-refresh" aria-hidden="true"></span>
            </button>
            <button id="open-history" class="status-tool-btn" aria-label="歷史紀錄" data-tooltip="歷史紀錄">
                <span class="icon icon-history" aria-hidden="true"></span>
                <span id="history-count" class="history-count" aria-hidden="true"></span>
            </button>
            <button id="add-editor-tab" class="status-tool-btn" aria-label="新增分頁" data-tooltip="新增分頁">
                <span class="icon icon-add" aria-hidden="true"></span>
            </button>
            <button id="add-editor-split" class="status-tool-btn" aria-label="分割編輯器" data-tooltip="分割編輯器">
                <span class="icon icon-grid" aria-hidden="true"></span>
            </button>
            <button id="theme-toggle" class="theme-toggle status-tool-btn" aria-label="切換主題" data-tooltip="切換主題">
                <span class="icon icon-theme-auto" aria-hidden="true"></span>
            </button>
        </div>
    </div>
    <div id="history-overlay">
        <div id="history-modal">
            <div id="history-header">
                <strong>歷史紀錄<span id="history-title-count" class="history-count"></span></strong>
                <button id="history-close" class="modal-btn">關閉</button>
            </div>
            <div id="history-list"></div>
        </div>
    </div>
    <div id="modal-overlay">
        <div id="modal">
            <p id="modal-message"></p>
            <div id="modal-actions">
                <button id="modal-cancel" class="modal-btn">取消</button>
                <button id="modal-ok" class="modal-btn primary">確定</button>
            </div>
        </div>
    </div>
    <div id="toast"></div>
    <div id="selection-menu">
        <button type="button" data-action="toggle-case">轉換大小寫</button>
        <button type="button" data-action="decode-uri">Decode URI</button>
        <button type="button" data-action="bbs-table">BBS 表格</button>
    </div>
    <script type="module" src="scripts/app.js"></script>
</body>

</html>